{"version":3,"sources":["webpack:///webpack/bootstrap ed137d13c2cccf176e50","webpack:///./src/bridge/index.js"],"names":["eventMap","debuggerMode","window","onNativeCallback","message","JSON","parse","err","console","log","jsBridge","emit","msgType","data","setDebuggerMode","status","getSysPlatform","ua","navigator","userAgent","uaL","toLowerCase","platform","indexOf","call","eventName","func","jsonObj","stringify","webkit","messageHandlers","webViewApp","postMessage","jsCallNative","register"],"mappings":"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","file":"static/js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ed137d13c2cccf176e50","const eventMap = {};\nlet debuggerMode = false;\n\nwindow.onNativeCallback = (message) => {\n  if (typeof message === 'string') {\n    try {\n      message = JSON.parse(message);\n    } catch (err) {\n      // \n    }\n  }\n  // receive message from native\n  if (typeof message === 'object') {\n    debuggerMode && console.log(message);\n    jsBridge.emit(message.msgType, message.data);\n  }\n\n};\n\nconst jsBridge = {\n  setDebuggerMode(status) {\n    debuggerMode = status;\n\n    debuggerMode && console.log('debuggerMode on');\n  },\n\n  getSysPlatform() {\n    const ua = window.navigator.userAgent;\n    const uaL = ua.toLowerCase();\n    let platform;\n\n    if (~uaL.indexOf('iphone') || ~ua.indexOf('iOS')) {\n      platform = 'ios';\n    } else if(~uaL.indexOf('android') || ~ua.indexOf('Adr')) {\n      platform = 'android';\n    }\n\n    debuggerMode && console.log(platform);\n    return platform;\n  },\n\n  call(eventName, data, func) {\n    const jsonObj = {\n      'msgType': eventName\n    };\n\n    if (typeof data === 'function') {\n      func = data;\n    } else if (typeof data !== 'undefined') {\n      jsonObj.data = data;\n    }\n    \n    const platform = jsBridge.getSysPlatform();\n    \n    try {\n      const message = JSON.stringify(jsonObj);\n      // for webkit\n      if (platform === 'ios') {\n        window.webkit.messageHandlers.webViewApp.postMessage(message);\n      }\n      // for android\n      if (platform === 'android') {\n        window.webViewApp.jsCallNative(message);\n      }\n    } catch(err) {\n      // throw new Error(err);\n    }\n\n    jsBridge.register(eventName, func);\n\n    debuggerMode && console.log(eventName);\n  },\n\n  register(eventName, func) {\n    eventMap[eventName] = func;\n    debuggerMode && console.log(typeof eventMap[eventName]);\n  },\n\n  emit(eventName, data) {\n    if (typeof eventMap[eventName] === 'function') {\n      eventMap[eventName](data);\n      // eventMap[eventName] = null;\n      // delete eventMap[eventName];\n    }\n  }\n};\n\nexport default jsBridge;\n\n\n// WEBPACK FOOTER //\n// ./src/bridge/index.js"],"sourceRoot":""}